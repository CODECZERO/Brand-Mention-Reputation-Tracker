# Global runtime defaults
NODE_ENV=development
LISTEN_PORT=10000
API_PORT=4000
AGGREGATOR_PORT=4001
ORCHESTRATOR_PORT=9000
WORKER_PORT=8000
PROMETHEUS_PORT=9103
WORKER_STATUS_PORT=8001

# Shared Redis / data stores
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_USERNAME=
REDIS_TLS=false
BRAND_DB_URL=mongodb://localhost:27017/rapidquest
MONGO_URL=mongodb://localhost:27017/rapidquest

# Shared service toggles
BRANDS=acme,globex
ENABLE_METRICS=true

# API Gateway (api-gateway)
API_GATEWAY_RATE_LIMIT=120
ALLOWED_ORIGINS=http://localhost:5173
ORCHESTRATOR_URL=http://localhost:${ORCHESTRATOR_PORT}
AGGREGATOR_URL=http://localhost:${AGGREGATOR_PORT}
WORKER_STATUS_URL=http://localhost:${WORKER_STATUS_PORT}/status
JWT_SECRET=replace-with-random-string
API_LOG_LEVEL=info

# Aggregator service (aggregator)
AGGREGATOR_INTERVAL_MS=600000
AGGREGATOR_REQUEST_TIMEOUT_MS=10000
AGGREGATOR_REQUEST_MAX_RETRIES=3
AGGREGATOR_REQUEST_RETRY_BACKOFF_MS=500
AGGREGATOR_MAX_FETCH_LIMIT=100
AGGREGATOR_REDIS_TTL_SECONDS=86400
AGGREGATOR_METRICS_ENABLED=true
AGGREGATOR_RATE_LIMIT_MAX_REQUESTS=60
AGGREGATOR_RATE_LIMIT_INTERVAL_MS=60000
AGGREGATOR_CONCURRENCY=3
AGGREGATOR_POLL_INTERVAL_MS=60000
AGGREGATOR_CHUNK_SIZE=50
AGGREGATOR_LOG_LEVEL=info

# External provider credentials used by aggregator/shared helpers
REDDIT_API_URL=https://www.reddit.com/search.json
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
NEWS_API_URL=https://newsapi.org/v2/everything
NEWS_API_KEY=replace-with-news-api-key
X_API_KEY=replace-with-x-api-key

# Orchestrator service (orchestrator)
ORCHESTRATOR_ID=orchestrator-local
CONCURRENCY_LIMIT=5
MAX_RETRIES=3
RETRY_BACKOFF_BASE=2
MERGE_SIMILARITY_THRESHOLD=0.75
TTL_SUMMARY_SECONDS=1800
SCHEDULE_INTERVAL_MS=30000
ORCHESTRATOR_INTERVAL=30
CHUNK_FETCH_TIMEOUT_SEC=30
BRAND_LIST_KEY=brands:set
ORCHESTRATOR_LOG_LEVEL=info

# Worker service (worker)
WORKER_ID=
CHUNK_BATCH_SIZE=200
EMBEDDINGS_PROVIDER=local
LLM_PROVIDER=mock
EMBEDDING_API_KEY=
LLM_API_KEY=
GEMINI_API_KEY=
OPENAI_API_KEY=
GEMINI_MODEL=gemini-2.5-flash
GEMINI_API_VERSION=v1
OPENAI_MODEL=gpt-4o-mini
WORKER_MAX_RETRIES=3
WORKER_RETRY_BACKOFF_BASE=0.5
LLM_SUMMARY_MAX_TOKENS=256
LLM_TIMEOUT_SEC=30
LLM_MIN_DELAY_SEC=2
LLM_MAX_CONCURRENCY=4
EMBEDDINGS_BATCH_SIZE=32
HEARTBEAT_INTERVAL_SEC=10
BLPOP_TIMEOUT_SEC=5
METRICS_WAIT_LOG_INTERVAL_SEC=60
PREPROCESSING_EXAMPLES=3
REDIS_QUEUE_PREFIX=queue:brand
REDIS_RESULT_PREFIX=result:brand
REDIS_FAILED_PREFIX=failed:brand
REDIS_SPIKE_PREFIX=spike:brand
SPIKE_HISTORY_TTL_SEC=86400
WORKER_LOG_LEVEL=info

# Frontend (frontend)
VITE_API_URL=http://localhost:${API_PORT}
VITE_BRAND_ENDPOINT=${VITE_API_URL}/brand
VITE_ORCHESTRATOR_URL=http://localhost:${ORCHESTRATOR_PORT}
VITE_AGGREGATOR_URL=http://localhost:${AGGREGATOR_PORT}
VITE_WORKER_URL=http://localhost:${WORKER_PORT}
NEXT_PUBLIC_API_URL=${VITE_API_URL}
NEXT_PUBLIC_BRAND_ENDPOINT=${VITE_BRAND_ENDPOINT}
NEXT_PUBLIC_ORCHESTRATOR_URL=${VITE_ORCHESTRATOR_URL}
NEXT_PUBLIC_AGGREGATOR_URL=${VITE_AGGREGATOR_URL}
NEXT_PUBLIC_WORKER_URL=${VITE_WORKER_URL}
